"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[507],{7501:function(n,t,e){e.d(t,{Z:function(){return I}});var i=e(7297),o=e(4288),r=e(917),l=e(7294),u=e(3750),c=e(1163);function d(){let n=(0,i.Z)(["\n              display: flex;\n              justify-content: space-between;\n            "]);return d=function(){return n},n}function s(){let n=(0,i.Z)(["var(--back-color-2)"]);return s=function(){return n},n}function a(){let n=(0,i.Z)(["\n    position: absolute;\n    z-index: 999999;\n    transition-property: width height;\n    will-change: width height left top opacity transform;\n    transition-duration: 0.3s;\n    /* transition-timing-function: ease-in; */\n    overflow: hidden;\n\n    top: ","px;\n    width: ",";\n    height: ",";\n    ",";\n    ",";\n    /* background-color: white; */\n    background-color: ",";\n    border-radius: 10px;\n    box-shadow: 0px 0px 10px 1px rgba(0, 0, 0, 0.2);\n  "]);return a=function(){return n},n}function h(){let n=(0,i.Z)(["\n    opacity: ",";\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n  "]);return h=function(){return n},n}function f(){let n=(0,i.Z)(['\n    width: 110%;\n    position: absolute;\n    left: -5%;\n    top: -5%;\n    height: 350px;\n    background: no-repeat url("','") 0 / cover;\n    filter: blur(10px);\n    -webkit-filter: blur(10px);\n    pointer-events: none;\n    display: flex;\n    justify-content: center;\n  ']);return f=function(){return n},n}function v(){let n=(0,i.Z)(["\n  width: 100%;\n  height: 350px;\n  position: absolute;\n  display: flex;\n  justify-content: center;\n  background: linear-gradient(rgba(0, 0, 0, 0), var(--back-color-2));\n  pointer-events: none;\n"]);return v=function(){return n},n}function p(){let n=(0,i.Z)(["\n    will-change: width height transform;\n    transition-property: width height opacity transform;\n    transition-duration: 0.3s;\n    ",";\n    box-shadow: 0px 0px 10px 1px rgba(0, 0, 0, 0.5);\n    width: auto;\n    height: ",";\n    min-height: ",";\n  "]);return p=function(){return n},n}function g(){let n=(0,i.Z)(["\n  width: 100%;\n  height: 350px;\n"]);return g=function(){return n},n}function x(){let n=(0,i.Z)(["\n  flex: 1 0 auto;\n  padding: 24px;\n  display: flex;\n  justify-content: space-between;\n  flex-direction: column;\n"]);return x=function(){return n},n}function w(){let n=(0,i.Z)(["\n  font-size: 20px;\n  color: var(--text-color);\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n"]);return w=function(){return n},n}function m(){let n=(0,i.Z)(["\n  font-size: 13px;\n  margin-top: 8px;\n  color: var(--text-color-4);\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n"]);return m=function(){return n},n}function b(){let n=(0,i.Z)(["\n  /* background-color: white; */\n  color: var(--text-color-4);\n  width: 52px;\n  height: 52px;\n"]);return b=function(){return n},n}let Z=n=>{let{modalToggler:t,isMouseOn:e,setModalToggler:i,bookData:s,parentRef:a,imgHeight:h,imgMinHeight:f}=n,v=(0,l.useRef)(null),[p,g]=(0,l.useState)(!1),[x,w]=(0,l.useState)(!1),[m,b]=(0,l.useState)(!1),Z=(0,c.useRouter)(),M={widthValue:450,heightValue:500};(0,l.useEffect)(()=>{!0===e&&!0===t&&(g(()=>!0),w(()=>!0))},[]),(0,l.useEffect)(()=>(window.addEventListener("wheel",W),()=>{window.removeEventListener("wheel",W)}),[]);let N=()=>{!0===e&&!0===p?(setTimeout(function(){null!==v.current&&(v.current.style.opacity="0")},100),setTimeout(function(){i(()=>!1)},500)):i(()=>!1),g(()=>!1),b(()=>!0)},W=()=>{null!==v.current&&(v.current.style.width=a.current.clientWidth+"px",v.current.style.height=a.current.clientHeight+"px",v.current.style.left=a.current.getBoundingClientRect().left+"px",setTimeout(function(){null!==v.current&&(v.current.style.top=a.current.getBoundingClientRect().top+"px",v.current.style.opacity="0")},200))},j=()=>{Z.push("/books/".concat(s.bookId))};return(0,o.tZ)("div",{onMouseLeave:N,ref:v,css:y({modalToggler:p,parentRef:a,wrapperRef:v,widthValue:M.widthValue,heightValue:M.heightValue}),children:(0,o.BX)("div",{css:k({modalToggler:t,contentToggler:p,isOpened:x}),children:[(0,o.tZ)("div",{css:B({imgUrl:s.thumbnail})}),(0,o.tZ)("div",{css:C,children:(0,o.tZ)("img",{src:s&&s.thumbnail,alt:s&&s.title,css:R({modalToggler:p,isClosing:m,imgHeight:h,imgMinHeight:f})})}),(0,o.tZ)("div",{css:T}),(0,o.BX)("div",{css:O,children:[(0,o.BX)("div",{children:[(0,o.tZ)("div",{css:S,children:s.title}),(0,o.tZ)("div",{css:E,children:s.regist})]}),(0,o.BX)("div",{css:(0,r.iv)(d()),children:[(0,o.tZ)("div",{}),(0,o.tZ)(u.gtS,{css:H,onClick:j})]})]})]})})},y=n=>{var t,e,i,o,l,u,c,d,h,f,v,p,g;let{modalToggler:x,parentRef:w,wrapperRef:m,widthValue:b,heightValue:Z}=n,y=(b-(null==w?void 0:null===(t=w.current)||void 0===t?void 0:t.clientWidth))/2>=(null==w?void 0:null===(e=w.current)||void 0===e?void 0:e.getBoundingClientRect().left),k=(null==w?void 0:null===(i=w.current)||void 0===i?void 0:i.getBoundingClientRect().left)+(b-(b-(null==w?void 0:null===(o=w.current)||void 0===o?void 0:o.clientWidth))/2)>=document.body.offsetWidth,B="left: ".concat(x&&!0===y?"42":(null==w?void 0:null===(l=w.current)||void 0===l?void 0:l.getBoundingClientRect().left)-(b-(null==w?void 0:null===(u=w.current)||void 0===u?void 0:u.clientWidth))/2,"px;"),C="left: ".concat(x&&!0===k?document.body.offsetWidth-b-42:null==w?void 0:null===(c=w.current)||void 0===c?void 0:c.getBoundingClientRect().left,"px");return(0,r.iv)(a(),x?(null==w?void 0:null===(d=w.current)||void 0===d?void 0:d.getBoundingClientRect().top)-(Z-(null==w?void 0:null===(h=w.current)||void 0===h?void 0:h.clientHeight))/2:null==w?void 0:null===(f=w.current)||void 0===f?void 0:f.getBoundingClientRect().top,x?"".concat(b,"px"):"".concat(null==w?void 0:null===(v=w.current)||void 0===v?void 0:v.clientWidth,"px"),x?"".concat(Z,"px"):"".concat(null==w?void 0:null===(p=w.current)||void 0===p?void 0:p.clientHeight,"px"),x?!0===k?C:B:"left: ".concat(null==w?void 0:null===(g=w.current)||void 0===g?void 0:g.getBoundingClientRect().left,"px"),x?"pointer-events: auto":"pointer-events: none",x?(0,r.iv)(s()):"rgba(0,0,0,0)")},k=n=>{let{modalToggler:t,contentToggler:e,isOpened:i}=n;return(0,r.iv)(h(),e?"255":i?"255":"0")},B=n=>{let{imgUrl:t}=n;return(0,r.iv)(f(),t)},C=(0,r.iv)(v()),R=n=>{let{modalToggler:t,isClosing:e,imgHeight:i,imgMinHeight:o}=n;return(0,r.iv)(p(),t?"transform: scale(1.0)":e?"transform: scale(1.0)":"transform: scale(1.1)",t?"350px":i,o)},T=(0,r.iv)(g()),O=(0,r.iv)(x()),S=(0,r.iv)(w()),E=(0,r.iv)(m()),H=(0,r.iv)(b());var M=e(363);function N(){let n=(0,i.Z)(["\n    cursor: pointer;\n    position: relative;\n    width: ",";\n    height: ",";\n    ",";\n    ",";\n    overflow: hidden;\n    border-radius: 10px;\n  "]);return N=function(){return n},n}function W(){let n=(0,i.Z)(["\n    position: relative;\n    /* width: ","; */\n    width: 100%;\n    /* height: ","; */\n    height: 100%;\n    ",";\n    ",";\n    position: relative;\n    overflow: hidden;\n    border-radius: 10px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  "]);return W=function(){return n},n}function j(){let n=(0,i.Z)(["\n  width: 100%;\n  height: 3vw;\n  min-height: 36px;\n  background-color: rgba(0, 0, 0, 0.2);\n  position: absolute;\n  bottom: 0;\n  pointer-events: none;\n"]);return j=function(){return n},n}function L(){let n=(0,i.Z)(["\n  /* width: auto;\n  height: 100%; */\n  width: 100%;\n  height: 100%;\n  transition: transform 0.3s;\n  object-fit: cover;\n  &:hover {\n    transform: scale(1.1);\n  }\n"]);return L=function(){return n},n}function V(){let n=(0,i.Z)(["\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    transition-property: opacity;\n    transition-duration: 0.3s;\n    border-radius: 10px;\n    background-color: rgb(200, 200, 200);\n    position: absolute;\n    opacity: ",";\n    pointer-events: none;\n  "]);return V=function(){return n},n}let X=n=>{let{bookData:t,showPlatform:e,width:i,height:r,minWidth:u,minHeight:c}=n,[d,s]=(0,l.useState)(null);(0,l.useEffect)(()=>{s(()=>navigator.userAgent)},[]);let a=()=>{let n=!1;return(void 0!==d&&d.length>0&&d.indexOf("iPhone")>-1||d.indexOf("Android")>-1||d.indexOf("iPad")>-1||d.indexOf("iPod")>-1)&&(n=!0),n},h=(0,l.useRef)(null),[f,v]=(0,l.useState)(!1),[p,g]=(0,l.useState)(!1),x=(0,o.tZ)("div",{css:_}),w=()=>{setTimeout(function(){v(()=>!0)},500),g(()=>!0)},m=()=>{g(()=>!1),setTimeout(function(){v(()=>!1)},500)},b=()=>{null!==d&&a()},y=(0,o.tZ)(M.Z,{selector:".overlay-root",children:(0,o.tZ)(Z,{modalToggler:f,isMouseOn:p,setModalToggler:v,bookData:t,parentRef:h,imgHeight:r,imgMinHeight:c})});return(0,o.BX)("div",{className:"bookcard-outer-wrapper",css:A({width:i,height:r,minWidth:u,minHeight:c}),ref:h,onClick:b,onMouseOver:n=>{n.stopPropagation(),w()},onMouseLeave:m,children:[null!==d&&!1===a()&&f&&y,(0,o.BX)("div",{className:"bookcard-inner-wrapper",css:P({width:i,height:r,minWidth:u,minHeight:c}),children:[(0,o.tZ)("div",{css:D({state:"LOADING"!==t})}),(0,o.tZ)("img",{className:"img",src:t&&t.thumbnail,alt:t&&t.title,css:z}),e&&"LOADING"!==t&&x]})]})},A=n=>{let{width:t,height:e,minWidth:i,minHeight:o}=n;return(0,r.iv)(N(),void 0!==t?t:"auto",void 0!==e?e:"100%",i&&"min-width: ".concat(i),o&&"min-height: ".concat(o))},P=n=>{let{width:t,height:e,minWidth:i,minHeight:o}=n;return(0,r.iv)(W(),void 0!==t?t:"auto",void 0!==e?e:"100%",i&&"min-width: ".concat(i),o&&"min-height: ".concat(o))},_=(0,r.iv)(j()),z=(0,r.iv)(L()),D=n=>{let{state:t}=n;return(0,r.iv)(V(),t?"0":"255")};var I=X},363:function(n,t,e){var i=e(3935);let o=n=>{let{children:t,selector:e}=n,o=document.querySelector(e);return o&&t?i.createPortal(t,o):null};t.Z=o},1004:function(n,t){t.Z=function(n){let t=n.charCodeAt(n.length-1);return 0==(t-44032)%28?"가":"이"}}}]);