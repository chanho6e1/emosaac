(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[360],{1958:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/oauth2/redirect",function(){return r(8778)}])},5394:function(e,t,r){"use strict";r.d(t,{E:function(){return o}});var n=r(6154);function a(){{let e=localStorage.getItem("access_token");return"Bearer ".concat(e)}}let o=function(){let e=a(),t=n.Z.create({baseURL:"http://j8d203.p.ssafy.io:8081/api",headers:{"Content-Type":"application/JSON;charset=utf-8",Authorization:e}});return t}();!function(){let e=a();n.Z.create({baseURL:"http://j8d203.p.ssafy.io:8081/api",headers:{"Content-Type":"multipart/form-data",Authorization:e}})}()},6511:function(e,t,r){"use strict";var n=r(5394);async function a(){try{let{data:e,status:t}=await n.E.get("/users/me");if(200===t)return e.data}catch(e){throw e}return null}t.Z=a},8778:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSP:function(){return s}});var n=r(1163),a=r(7294),o=r(6511);function i(e,t){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");let r=RegExp("[\\?&]"+e+"=([^&#]*)"),n=r.exec(t);return null===n?"":decodeURIComponent(n[1].replace(/\+/g," "))}let c=e=>{let t=(0,n.useRouter)();return(0,a.useEffect)(()=>{let e=i("token",window.location.search),r=i("error",window.location.search),n=i("code",window.location.search);e?(localStorage.setItem("access_token",e),(0,o.Z)().then(e=>{e&&(localStorage.setItem("userId",JSON.stringify(e.userId)),localStorage.setItem("nickname",JSON.stringify(e.nickname)),localStorage.setItem("imageUrl",JSON.stringify(e.imageUrl)),localStorage.setItem("gender",JSON.stringify(e.gender)),localStorage.setItem("age",JSON.stringify(e.age)))}).catch(e=>{console.error("Error fetching user info:",e)}),"200"===n?t.push({pathname:"/",query:{from:t.asPath}}).then(()=>{window.history.replaceState({},document.title,"/login")}):"201"===n?t.push({pathname:"/survey",query:{from:t.asPath,error:r}}).then(()=>{window.history.replaceState({},document.title,"/survey")}):t.push({pathname:"/error",query:{from:t.asPath}}).then(()=>{window.history.replaceState({},document.title,"/error")})):t.push({pathname:"/login",query:{from:t.asPath,error:r}}).then(()=>{window.history.replaceState({},document.title,"/login")})},[t]),null};var s=!0;t.default=c}},function(e){e.O(0,[154,774,888,179],function(){return e(e.s=1958)}),_N_E=e.O()}]);